{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","images/reg-success.svg","images/reg-error.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","exact","path","email","to","onClick","handleLogout","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","cards","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","action","noValidate","children","submitButtonText","ImagePopup","api","options","response","ok","json","Promise","reject","status","this","baseUrl","headers","fetch","then","inputData","method","body","JSON","stringify","cardData","cardId","like","inputLink","authorization","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","evt","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","Register","handleRegister","password","userData","setUserData","handleChange","Login","handleLogin","InfoTooltip","Ok","Err","ProtectedRoute","Component","component","loggedIn","BASE_URL","handleResponse","App","setLoggedIn","tooltipData","setTooltipData","userEmail","setUserEmail","history","useHistory","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isTooltipOpen","setIsTooltipOpen","selectedCard","setSelectedCard","all","getUserData","getInitialCards","catch","err","console","log","tokenCheck","push","token","localStorage","getItem","Authorization","auth","data","closeAllPopups","Provider","removeItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setItem","saveUserData","avatarLink","updateAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99671677.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\nimport { Route, Switch, Link } from 'react-router-dom';\n\nfunction Header(props) {\n  return (\n    <header className=\"header page__section\">\n      <img\n        className=\"logo header__logo\"\n        src={logo}\n        alt=\"Логотип Проекта Место\"\n      />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <div className=\"header__user\">\n            <p className=\"header__email\">{props.email}</p>\n            <Link\n              to=\"/sign-in\"\n              onClick={props.handleLogout}\n              className=\"header__link header__link_logged-in button hover\"\n            >\n              Выйти\n            </Link>\n          </div>\n        </Route>\n\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link button hover\">\n            Регистрация\n          </Link>\n        </Route>\n\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link button hover\">\n            Войти\n          </Link>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `place__delete-button hover button_type_delete ${\n    isOwn ? 'place__delete-button_visible' : 'place__delete-button_hidden'\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `${\n    isLiked ? 'place__like place__like_active' : 'place__like'\n  }`;\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"place\">\n      <img\n        className=\"place__photo\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <div className=\"place__info\">\n        <h3 className=\"place__title\">{card.name}</h3>\n        <div className=\"place__likes-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"place__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\n// import api from '../utils/api';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  handleCardClick,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // const [userName, setUserName] = React.useState('Жак-Ив Кусто');\n  // const [userDescription, setUserDescription] = React.useState(\n  //   'Исследователь океана'\n  // );\n  // const [userAvatar, setUserAvatar] = React.useState('');\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile page__section\">\n        <div\n          className=\"profile__avatar\"\n          onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        ></div>\n\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__bio\">{currentUser.about}</p>\n\n          <button\n            className=\"profile__edit-button button button_type_edit hover\"\n            type=\"button\"\n            onClick={onEditProfile}\n          ></button>\n        </div>\n\n        <button\n          className=\"button button_type_add hover\"\n          name=\"add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"places page__section\">\n        <ul className=\"places__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__section\">\n    <p className=\"footer__copyright\">&copy; 2021 Максим Тропников</p>\n  </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithForm(props) {\n  return (\n    <div\n      className={\n        props.isOpen\n          ? `popup popup_type_${props.name} popup_opened`\n          : `popup popup_type_${props.name}`\n      }\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"\n            popup__close\n            button button_type_close\n            hover\n          \"\n          onClick={props.onClose}\n          type=\"button\"\n          aria-label=\"Закрыть попап\"\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n\n        <form\n          onSubmit={props.onSubmit}\n          action=\"#\"\n          className={`form popup__form form_type_${props.name}`}\n          name={`${props.name}-form`}\n          noValidate\n        >\n          {props.children}\n          <button\n            type=\"submit\"\n            className=\"\n          popup__save\n          button\n          form__submit\n          button_type_save\n          \"\n          >\n            {props.submitButtonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n    <div\n      className={\n        props.card\n          ? `popup popup_photo place-full-photo popup_opened`\n          : `popup popup_photo place-full-photo`\n      }\n    >\n      <div className=\"popup__photo-container\">\n        <button\n          className=\"popup__close button button_type_close hover\"\n          type=\"button\"\n          aria-label=\"Закрыть попап\"\n          onClick={props.onClose}\n        ></button>\n\n        <img\n          src={props.card ? props.card.link : `#`}\n          alt={props.card ? props.card.name : `Фотография места`}\n          className=\"place-full-photo__image\"\n        />\n        <h3 className=\"place-full-photo__caption\">\n          {props.card ? props.card.name : ``}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import { token, serverUrl } from './utils.js';\n\nclass Api {\n  #baseUrl;\n  #headers;\n\n  constructor(options) {\n    this.#baseUrl = options.baseUrl;\n    this.#headers = options.headers;\n  }\n\n  #handleResponse = (response) => {\n    return response.ok\n      ? response.json()\n      : Promise.reject(`Ошибка: ${response.status}`);\n  };\n\n  getInitialCards() {\n    return fetch(this.#baseUrl + '/cards', {\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  getUserData() {\n    return fetch(this.#baseUrl + '/users/me', {\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  saveUserData(inputData) {\n    return fetch(this.#baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this.#headers,\n      body: JSON.stringify(inputData),\n    }).then(this.#handleResponse);\n  }\n\n  addNewCard(cardData) {\n    return fetch(this.#baseUrl + '/cards', {\n      method: 'POST',\n      headers: this.#headers,\n      body: JSON.stringify(cardData),\n    }).then(this.#handleResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  changeLikeCardStatus(cardId, like) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  likeCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  dislikeCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  updateAvatar(inputLink) {\n    return fetch(this.#baseUrl + `/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.#headers,\n      body: JSON.stringify(inputLink),\n    }).then(this.#handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: serverUrl,\n  headers: {\n    authorization: token,\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","export const serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-27';\n// export const serverUrl = 'https://auth.nomoreparties.co';\n// export const serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-26';\nexport const token = '37580e29-ca43-4e60-bfc4-9731d6167691';\n// export const token = '3936a02f-bc3d-48a7-bceb-bcb201e7df53';\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [isOpen, currentUser]);\n\n  const [name, setName] = React.useState('Жак Ив Кусто');\n  const [description, setDescription] = React.useState('Исследователь океана');\n\n  const handleNameChange = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const handleDescriptionChange = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    // Запрещаем браузеру переходить по адресу формы\n    evt.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"profile-edit\"\n      title=\"Редактировать профиль\"\n      submitButtonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name}\n        onChange={handleNameChange}\n        id=\"profile-name-input\"\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span className=\"profile-name-input-error form__input-error\"></span>\n      <input\n        value={description}\n        onChange={handleDescriptionChange}\n        id=\"profile-bio-input\"\n        type=\"text\"\n        name=\"about\"\n        className=\"form__input\"\n        placeholder=\"Краткое био\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span className=\"profile-bio-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  const avatarRef = React.useRef('');\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  React.useEffect(() => {\n    avatarRef.current.value = '';\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"avatar-update\"\n      title=\"Обновить аватар\"\n      submitButtonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"avatar-update-input\"\n        type=\"url\"\n        name=\"avatar\"\n        className=\"form__input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"avatar-update-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  React.useEffect(() => {\n    setPlaceName('');\n    setPlaceLink('');\n  }, [isOpen]);\n\n  const handlePlaceNameChange = (evt) => {\n    setPlaceName(evt.target.value);\n  };\n  const handlePlaceLinkChange = (evt) => {\n    setPlaceLink(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onAddPlace({ name: placeName, link: placeLink });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"place-add\"\n      title=\"Новое место\"\n      submitButtonText=\"Создать\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"place-name-input\"\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n        value={placeName}\n        onChange={handlePlaceNameChange}\n      />\n      <span className=\"place-name-input-error form__input-error\"></span>\n      <input\n        id=\"place-link-input\"\n        type=\"url\"\n        name=\"link\"\n        className=\"form__input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={placeLink}\n        onChange={handlePlaceLinkChange}\n      />\n      <span className=\"place-link-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Register = ({ handleRegister }) => {\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { email, password } = userData;\n    handleRegister(email, password);\n  };\n\n  return (\n    <main className=\"registration\">\n      <h2 className=\"registration__title\">Регистрация</h2>\n      <form onSubmit={handleSubmit} className=\"form\">\n        <input\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          className=\"form__email form__input\n          form__input_type_register\"\n          placeholder=\"Email\"\n          required\n          onChange={handleChange}\n          value={userData.email}\n        />\n        <input\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          className=\"form__password form__input form__input_type_register\"\n          placeholder=\"Пароль\"\n          required\n          minLength=\"8\"\n          onChange={handleChange}\n          value={userData.password}\n        />\n        <button\n          className=\"registration__submit form__submit button button_type_save button_type_registration-submit\"\n          type=\"submit\"\n        >\n          Зарегистрироваться\n        </button>\n      </form>\n      <p className=\"registration__redirect-text\">\n        Уже зарегистрированы?&nbsp;\n        <Link to=\"/sign-in\" className=\"registration__redirect-link hover\">\n          Войти\n        </Link>\n      </p>\n    </main>\n  );\n};\nexport default Register;\n","import React from 'react';\n\nconst Login = ({ handleLogin }) => {\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { email, password } = userData;\n    handleLogin(email, password);\n  };\n\n  return (\n    <main className=\"login\">\n      <h2 className=\"login__title\">Вход</h2>\n      <form onSubmit={handleSubmit} className=\"form\">\n        <input\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          className=\"form__email form__input\n          form__input_type_login\"\n          placeholder=\"Email\"\n          required\n          value={userData.email}\n          onChange={handleChange}\n        />\n        <input\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          className=\"form__password form__input form__input_type_login\"\n          placeholder=\"Пароль\"\n          required\n          minLength=\"8\"\n          value={userData.password}\n          onChange={handleChange}\n        />\n        <button\n          className=\"login__submit form__submit button button_type_save button_type_login-submit\"\n          type=\"submit\"\n        >\n          Войти\n        </button>\n      </form>\n    </main>\n  );\n};\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/reg-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reg-error.df8eddf6.svg\";","import Ok from '../images/reg-success.svg';\nimport Err from '../images/reg-error.svg';\n\nconst InfoTooltip = (props) => {\n  return (\n    <div\n      className={\n        props.isOpen\n          ? `popup popup_type_${props.name} popup_opened`\n          : `popup popup_type_${props.name}`\n      }\n    >\n      <div className=\"popup__container popup__container_type_tooltip\">\n        <button\n          className=\"\n          popup__close\n          button button_type_close\n          hover\n        \"\n          onClick={props.onClose}\n          type=\"button\"\n          aria-label=\"Закрыть попап\"\n        />\n        <img\n          className=\"popup__registration-image-status\"\n          src={props.status ? Ok : Err}\n          alt=\"Картинка статуса\"\n        />\n        <h2 className=\"popup__title popup__title_type_tooltip\">\n          {props.title}\n        </h2>\n      </div>\n    </div>\n  );\n};\n\nexport default InfoTooltip;\n","import { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst handleResponse = (response) => {\n  return response.ok\n    ? response.json()\n    : Promise.reject(`Ошибка: ${response.status}`);\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(handleResponse);\n};\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(handleResponse);\n};\n\nexport const checkTokenValidity = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(handleResponse);\n};\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [tooltipData, setTooltipData] = React.useState({\n    status: false,\n    title: '',\n  });\n\n  const [userEmail, setUserEmail] = React.useState();\n  const history = useHistory();\n\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    _id: '',\n  });\n\n  const [cards, setCards] = React.useState([]);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    loggedIn && history.push('/');\n  }, [loggedIn]);\n\n  const tokenCheck = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth\n        .checkTokenValidity(token)\n        .then((response) => {\n          if (response) {\n            setUserEmail(response.data.email);\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsTooltipOpen(false);\n  };\n\n  //* User\n\n  const handleUpdateUser = (inputData) => {\n    api\n      .saveUserData(inputData)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleUpdateAvatar = (avatarLink) => {\n    api\n      .updateAvatar(avatarLink)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //* Cards\n\n  const handleCardLike = (card) => {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    const isOwn = card.owner._id === currentUser._id;\n    if (isOwn) {\n      api\n        .deleteCard(card._id)\n        .then(() =>\n          setCards((state) => state.filter((c) => c._id !== card._id))\n        )\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .addNewCard(newCard)\n      .then((response) => {\n        setCards([response, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // * Auth\n\n  const handleRegister = (email, password) => {\n    auth\n      .register(email, password)\n      .then(() => {\n        history.push('/sign-in');\n        setTooltipData({\n          status: true,\n          title: 'Вы успешно зарегистрировались!',\n        });\n        setIsTooltipOpen(true);\n      })\n      .catch(() => {\n        setTooltipData({\n          status: false,\n          title: 'Что-то пошло не так! Попробуйте ещё раз.',\n        });\n        setIsTooltipOpen(true);\n      });\n  };\n\n  const handleLogin = (email, password) => {\n    auth\n      .login(email, password)\n      .then((response) => {\n        if (response.token) {\n          localStorage.setItem('token', response.token);\n          setUserEmail(email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUserEmail('');\n    setLoggedIn(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__container\">\n        <Header email={userEmail} handleLogout={handleLogout} />\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            handleCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup\n          onClose={closeAllPopups}\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          onClose={closeAllPopups}\n          name=\"confirmation\"\n          title=\"Вы уверены?\"\n          submitButtonText=\"Да\"\n        ></PopupWithForm>\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoTooltip\n          name=\"tooltip\"\n          isOpen={isTooltipOpen}\n          onClose={closeAllPopups}\n          status={tooltipData.status}\n          title={tooltipData.title}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}